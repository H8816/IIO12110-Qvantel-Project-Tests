*** Settings ***
Resource    resource.robot
Library    Selenium2Library
Library    FakerLibrary

*** Variables ***
${TEST_CATEGORY}	jackets
${TEST_IMAGE}		https://store.thinksai.com/images/clipart/Safety%20First/Warning/Vertical/warnV031%20-%20do%20not%20touch%20under%20test.jpg
${TEST_AMOUNT}		19
${TEST_PRICE}		69
${TESTIDADA}	LALALALA
*** Test Cases ***

Admin User Can Go To Admin Page
    Open Index Page
    Admin Sign In
    Manage Page Check
    Close Browser

Admin User Can Add, Update And Delete Content To Webstore
    Open Index Page
    Admin Sign In
    Manage Page Check
    Click Link    /add
    ${TEST_NAME}=    Name
    ${TEST_DESCR}=    Text    max_nb_chars=30

    Wait Until Page Contains Element    edit-category
    Select From List By Value    edit-category    phones
    Input Text    edit-product    ${TEST_NAME}
    Input Text    edit-image-link    ${TEST_IMAGE}
    Input Text    edit-amount    ${TEST_AMOUNT}
    Input Text    edit-price    ${TEST_PRICE}
    Input Text    edit-description-fi    ${TEST_DESCR}
    Input Text    edit-description-ru    ${TEST_DESCR}
    Capture Page Screenshot
    Wait Until Page Contains Element    addButton
    Click Button    addButton
    Go To Phones Page
    Wait Until Page Contains Element    productName
    Wait Until Page Contains    ${TEST_NAME}
    Page Should Contain    ${TEST_NAME}
    Wait Until Page Contains    ${TEST_DESCR}
    Page Should Contain    ${TEST_DESCR}
    Page Should Contain Image    ${TEST_IMAGE}
    Wait Until Page Contains    ${TEST_PRICE} â‚¬
    Page Should Contain    ${TEST_PRICE}


    Delay    0.1    
    Manage Page Check
    Click Link    /update
    Wait Until Page Contains    Update product
    Click Element    //*[@id='cat']
    Select From List    //select[@id='cat']    phones
    Click Element    //option[@value='phones']
    Capture Page Screenshot
    Click Button    //*[@class='searchCat']
    Capture Page Screenshot
    Wait Until Page Contains    UPDATE_DEBUG
    Click Button    updateUPDATE_DEBUG
    Wait Until Page Contains Element    edit-amount
    Input Text    edit-description-fi    ${TESTIDADA}    
    Click Button    updateProduct
    Click Link    /pants
    Capture Page Screenshot
    Page Should Contain    ${TESTIDADA}


    Manage Page Check
    Click Link    /delete
    Wait Until Page Contains Element    //*[@id='cat']
    Click Element    //*[@id='cat']
    Select From List    //select[@id='cat']    phones
    Click Element    //option[@value='phones']
    Capture Page Screenshot
    Click Button    //*[@class='searchCat']
    Capture Page Screenshot

    Wait Until Page Contains    UPDATE_DEBUG
    Click Button    deleteUPDATE_DEBUG
    Close Browser

